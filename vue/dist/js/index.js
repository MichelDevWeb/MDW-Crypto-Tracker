(()=>{"use strict";var o={275:(o,e,t)=>{var r=t(751),i=t(641);function a(o,e,t,r,a,n){const l=(0,i.g2)("Popup");return(0,i.uX)(),(0,i.Wv)(l)}function n(o,e,t,r,a,n){const l=(0,i.g2)("crypto-tracker");return(0,i.uX)(),(0,i.Wv)(l)}var l=t(33);const s={id:"app",class:"app-container"},c={class:"search-container"},p=["value"],h={class:"table-container"},u={class:"table table-dark table-hover"},d=["onClick"],f={class:"rank-icon-cell"},g={class:"rank-number"},k=["src","alt"],m=["href"],v={key:0,class:"loading-spinner"},C={key:1,class:"alert alert-danger"},y={key:2,class:"portfolio-container"};function P(o,e,t,a,n,P){return(0,i.uX)(),(0,i.CE)("div",s,[e[14]||(e[14]=(0,i.Lk)("div",{class:"header"},[(0,i.Lk)("h1",null,"MDW Crypto Portfolio Tracker")],-1)),(0,i.Lk)("div",c,[(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>n.searchQuery=o),onInput:e[1]||(e[1]=(...o)=>P.handleSearch&&P.handleSearch(...o)),class:"form-control search-input",placeholder:"Search coins..."},null,544),[[r.Jo,n.searchQuery]]),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>n.selectedApi=o),onChange:e[3]||(e[3]=(...o)=>P.handleApiChange&&P.handleApiChange(...o)),class:"form-select api-select"},e[9]||(e[9]=[(0,i.Lk)("option",{value:"coingecko"},"CoinGecko",-1),(0,i.Lk)("option",{value:"coincap"},"CoinCap",-1)]),544),[[r.u1,n.selectedApi]]),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>n.pageSize=o),onChange:e[5]||(e[5]=(...o)=>P.fetchCoins&&P.fetchCoins(...o)),class:"form-select page-size-select"},e[10]||(e[10]=[(0,i.Lk)("option",{value:"25"},"25 per page",-1),(0,i.Lk)("option",{value:"50"},"50 per page",-1),(0,i.Lk)("option",{value:"100"},"100 per page",-1),(0,i.Lk)("option",{value:"200"},"200 per page",-1)]),544),[[r.u1,n.pageSize]]),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>n.currentPage=o),onChange:e[7]||(e[7]=(...o)=>P.fetchCoins&&P.fetchCoins(...o)),class:"form-select page-select"},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.totalPages,(o=>((0,i.uX)(),(0,i.CE)("option",{key:o,value:o}," Page "+(0,l.v_)(o),9,p)))),128))],544),[[r.u1,n.currentPage]])]),(0,i.Lk)("div",h,[(0,i.Lk)("table",u,[e[11]||(e[11]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th"),(0,i.Lk)("th",null,"Rank"),(0,i.Lk)("th",null,"Symbol"),(0,i.Lk)("th",null,"Name"),(0,i.Lk)("th",null,"Price"),(0,i.Lk)("th",null,"24h Change")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.coins,(o=>((0,i.uX)(),(0,i.CE)("tr",{key:o.id},[(0,i.Lk)("td",null,[(0,i.Lk)("button",{onClick:e=>P.togglePortfolio(o),class:(0,l.C4)(["portfolio-btn",o.inPortfolio?"portfolio-btn-active":"portfolio-btn-inactive"])},(0,l.v_)(o.inPortfolio?"âœ“":"+"),11,d)]),(0,i.Lk)("td",f,[(0,i.Lk)("span",g,"#"+(0,l.v_)(o.rank),1),(0,i.Lk)("img",{src:o.image,alt:o.symbol,class:"coin-icon"},null,8,k)]),(0,i.Lk)("td",null,(0,l.v_)(o.symbol.toUpperCase()),1),(0,i.Lk)("td",null,[(0,i.Lk)("a",{href:`https://www.coingecko.com/en/coins/${o.id}`,target:"_blank",class:"coin-link"},(0,l.v_)(o.name),9,m)]),(0,i.Lk)("td",null,"$"+(0,l.v_)(P.formatPrice(o.price)),1),(0,i.Lk)("td",{class:(0,l.C4)(["price-change-pill",P.getPriceChangeClass(o.priceChange24h)])},(0,l.v_)(P.formatPriceChange(o.priceChange24h)),3)])))),128))])])]),n.loading?((0,i.uX)(),(0,i.CE)("div",v,e[12]||(e[12]=[(0,i.Lk)("div",{class:"spinner-border text-light",role:"status"},[(0,i.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):(0,i.Q3)("",!0),n.error?((0,i.uX)(),(0,i.CE)("div",C,(0,l.v_)(n.error),1)):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:e[8]||(e[8]=(...o)=>P.togglePortfolioView&&P.togglePortfolioView(...o)),class:"toggle-portfolio-btn"},(0,l.v_)(n.showPortfolio?"Hide Portfolio":"Show Portfolio"),1),n.showPortfolio?((0,i.uX)(),(0,i.CE)("div",y,[e[13]||(e[13]=(0,i.Lk)("h2",null,"Your Portfolio",-1)),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(P.portfolioCoins,(o=>((0,i.uX)(),(0,i.CE)("li",{key:o.id},(0,l.v_)(o.name)+" ("+(0,l.v_)(o.symbol.toUpperCase())+") ",1)))),128))])])):(0,i.Q3)("",!0)])}const b={data(){return{coins:[],loading:!1,error:null,searchQuery:"",selectedApi:"coingecko",pageSize:25,portfolio:new Set,currentPage:1,totalPages:10,showPortfolio:!1}},computed:{portfolioCoins(){return this.coins.filter((o=>this.portfolio.has(o.id)))}},methods:{async fetchCoins(){this.loading=!0,this.error=null;try{const o="coingecko"===this.selectedApi?`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=${this.pageSize}&page=${this.currentPage}`:`https://api.coincap.io/v2/assets?limit=${this.pageSize}&offset=${(this.currentPage-1)*this.pageSize}`,e=await fetch(o),t=await e.json();this.coins="coingecko"===this.selectedApi?this.parseCoingeckoData(t):this.parseCoinCapData(t.data)}catch(o){this.error="Failed to fetch cryptocurrency data",console.error(o)}finally{this.loading=!1}},parseCoingeckoData(o){return o.map((o=>({id:o.id,symbol:o.symbol,name:o.name,image:o.image,rank:o.market_cap_rank,price:o.current_price,priceChange24h:o.price_change_percentage_24h,inPortfolio:this.portfolio.has(o.id)})))},parseCoinCapData(o){return o.map((o=>({id:o.id,symbol:o.symbol,name:o.name,image:`https://assets.coincap.io/assets/icons/${o.symbol.toLowerCase()}@2x.png`,rank:o.rank,price:parseFloat(o.priceUsd),priceChange24h:parseFloat(o.changePercent24Hr),inPortfolio:this.portfolio.has(o.id)})))},formatPrice(o){return o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:6})},formatPriceChange(o){return`${o>=0?"+":""}${o.toFixed(2)}%`},getPriceChangeClass(o){return{profit:o>0,loss:o<0,neutral:0===o}},async handleSearch(){this.searchQuery.length>2&&(clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout((()=>{this.fetchCoins()}),300))},handleApiChange(){this.fetchCoins()},togglePortfolio(o){this.portfolio.has(o.id)?this.portfolio.delete(o.id):this.portfolio.add(o.id),o.inPortfolio=!o.inPortfolio,this.savePortfolio()},async savePortfolio(){await chrome.storage.sync.set({portfolio:Array.from(this.portfolio)})},async loadPortfolio(){const o=await chrome.storage.sync.get("portfolio");this.portfolio=new Set(o.portfolio||[])},togglePortfolioView(){this.showPortfolio=!this.showPortfolio}},async mounted(){await this.loadPortfolio(),this.fetchCoins()}};var L=t(262);const w=(0,L.A)(b,[["render",P],["__scopeId","data-v-507cfbea"]]),_=w,S={components:{CryptoTracker:_}},A=(0,L.A)(S,[["render",n]]),E=A,X={components:{Popup:E}},O=(0,L.A)(X,[["render",a]]),F=O;(0,r.Ef)(F).mount("#app")}},e={};function t(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return o[r](a,a.exports,t),a.exports}t.m=o,(()=>{var o=[];t.O=(e,r,i,a)=>{if(!r){var n=1/0;for(p=0;p<o.length;p++){for(var[r,i,a]=o[p],l=!0,s=0;s<r.length;s++)(!1&a||n>=a)&&Object.keys(t.O).every((o=>t.O[o](r[s])))?r.splice(s--,1):(l=!1,a<n&&(n=a));if(l){o.splice(p--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var p=o.length;p>0&&o[p-1][2]>a;p--)o[p]=o[p-1];o[p]=[r,i,a]}})(),(()=>{t.d=(o,e)=>{for(var r in e)t.o(e,r)&&!t.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:e[r]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()})(),(()=>{t.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e)})(),(()=>{var o={57:0};t.O.j=e=>0===o[e];var e=(e,r)=>{var i,a,[n,l,s]=r,c=0;if(n.some((e=>0!==o[e]))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(s)var p=s(t)}for(e&&e(r);c<n.length;c++)a=n[c],t.o(o,a)&&o[a]&&o[a][0](),o[a]=0;return t.O(p)},r=self["webpackChunkmdw_crypto_portfolio_tracker"]=self["webpackChunkmdw_crypto_portfolio_tracker"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var r=t.O(void 0,[504],(()=>t(275)));r=t.O(r)})();